@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #0a0a0a;
}

html {
  text-rendering: geometricPrecision;
  -webkit-text-size-adjust: 100%;
  scroll-behavior: smooth;
  background: var(--background);
  color: var(--foreground);
}

body {
  margin: 0;
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-geist-sans), ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto,
    Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  overflow-x: hidden; /* important for oversized globe */
}

/* Neutral links: inherit color, underline only when explicitly used */
a {
  color: inherit;
  text-decoration-color: rgba(0, 0, 0, 0.18);
}


/* Better selection (still neutral) */
::selection {
  background: rgba(0, 0, 0, 0.08);
}

/* Reduce motion if requested */
@media (prefers-reduced-motion: reduce) {
  html { scroll-behavior: auto; }
  * {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
  }
}
@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #0a0a0a;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

html {
  text-rendering: geometricPrecision;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: var(--background);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans), ui-sans-serif, system-ui, -apple-system, "Segoe UI",
    Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

a { color: inherit; }

:focus-visible {
  outline: 2px solid rgba(0, 0, 0, 0.25);
  outline-offset: 3px;
  border-radius: 10px;
}

* { -webkit-tap-highlight-color: rgba(0, 0, 0, 0.05); }

/* Core Mark: concentric rings + core dot, subtle hover breathe */
.core-mark::before,
.core-mark::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 9999px;
}

/* Outer ring */
.core-mark::before {
  inset: 7px;
  border: 1px solid rgba(0, 0, 0, 0.18);
  opacity: 0.9;
  transform: scale(1);
  transition: transform 180ms ease, opacity 180ms ease;
}

/* Inner core dot */
.core-mark::after {
  inset: auto;
  width: 8px;
  height: 8px;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0, 0, 0, 0.65);
  box-shadow: 0 0 0 6px rgba(0, 0, 0, 0.08); /* faint inner halo */
}

/* Subtle hover/focus animation (no jitter) */
.group:hover .core-mark::before,
.group:focus-visible .core-mark::before {
  transform: scale(1.08);
  opacity: 0.65;
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .core-mark::before {
    transition: none;
  }
}
.core-mark::after {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: 10px;
  height: 10px;
  border-radius: 9999px;
  transform: translate(-50%, -50%);

  /* Pearl body: moving gradient */
  background: radial-gradient(
      35% 35% at 30% 30%,
      rgba(255, 255, 255, 0.95),
      rgba(255, 255, 255, 0.15) 40%,
      rgba(59, 130, 246, 0.35) 70%,
      rgba(0, 0, 0, 0.25) 100%
    ),
    linear-gradient(
      90deg,
      rgba(59, 130, 246, 0.0),
      rgba(59, 130, 246, 0.55),
      rgba(59, 130, 246, 0.0)
    );

  background-size: 100% 100%, 220% 100%;
  background-position: center center, 0% 50%;

  /* Pearl edge + glow */
  box-shadow:
    inset 0 0 0 1px rgba(255, 255, 255, 0.25),
    0 0 0 6px rgba(0, 0, 0, 0.07),          /* soft halo */
    0 0 10px rgba(59, 130, 246, 0.35),      /* blue glow */
    0 0 18px rgba(59, 130, 246, 0.18);      /* outer glow */

  filter: saturate(1.15);
  animation: core-shimmer 2.6s ease-in-out infinite;
}
@keyframes core-shimmer {
  0%   { background-position: center center, 0% 50%; }
  50%  { background-position: center center, 100% 50%; }
  100% { background-position: center center, 0% 50%; }
}
@media (prefers-reduced-motion: reduce) {
  .core-mark::after {
    animation: none;
  }
}
.group:hover .core-mark::after,
.group:focus-visible .core-mark::after {
  box-shadow:
    inset 0 0 0 1px rgba(255, 255, 255, 0.28),
    0 0 0 6px rgba(0, 0, 0, 0.07),
    0 0 12px rgba(59, 130, 246, 0.45),
    0 0 24px rgba(59, 130, 246, 0.22);
}

/* WCAG 2.2 AA Focus visibility */
:focus-visible {
  outline: 2px solid black;
  outline-offset: 2px;
}

a:focus-visible,
button:focus-visible {
  box-shadow: 0 0 0 3px rgba(0,0,0,0.15);
}

/* ------------------------------------------------------------
   Color tokens (system dark mode)
   ------------------------------------------------------------ */
:root {
  color-scheme: light dark;
  --bg: #ffffff;
  --fg: #0b0b0c;
  --muted: rgba(11, 11, 12, 0.70);
  --border: rgba(0, 0, 0, 0.10);
  --card: rgba(255, 255, 255, 0.92);
  --card-shadow: 0 1px 0 rgba(0,0,0,0.04);
  --link: rgba(11, 11, 12, 0.75);
  --link-hover: rgba(11, 11, 12, 1);
  --pill-bg: rgba(255,255,255,0.85);
  --pill-fg: rgba(11,11,12,0.60);
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg: #0b0b0c;
    --fg: #f4f4f5;
    --muted: rgba(244, 244, 245, 0.72);
    --border: rgba(244, 244, 245, 0.12);
    --card: rgba(20, 20, 22, 0.72);
    --card-shadow: 0 1px 0 rgba(0,0,0,0.35);
    --link: rgba(244, 244, 245, 0.78);
    --link-hover: rgba(244, 244, 245, 1);
    --pill-bg: rgba(20,20,22,0.65);
    --pill-fg: rgba(244,244,245,0.70);
  }
}

/* Apply tokens */
html, body {
  background: var(--bg);
  color: var(--fg);
}

/* Links (global baseline) */
a {
  color: var(--link);
}
a:hover {
  color: var(--link-hover);
}

/* Utility helpers for tokenized surfaces (optional, safe) */
.token-border { border-color: var(--border) !important; }
.token-card {
  background: var(--card) !important;
  box-shadow: var(--card-shadow) !important;
  border-color: var(--border) !important;
}
.token-muted { color: var(--muted) !important; }

/* ------------------------------------------------------------
   Dark mode pragmatic overrides (Tailwind light-class mapping)
   ------------------------------------------------------------ */
@media (prefers-color-scheme: dark) {
  /* Backgrounds */
  .bg-white { background-color: var(--card) !important; }
  .bg-white\/60 { background-color: rgba(20,20,22,0.60) !important; }
  .bg-white\/75 { background-color: rgba(20,20,22,0.75) !important; }
  .bg-white\/90 { background-color: rgba(20,20,22,0.90) !important; }

  /* Text */
  .text-black { color: var(--fg) !important; }
  .text-black\/70 { color: var(--muted) !important; }
  .text-black\/60 { color: rgba(244,244,245,0.68) !important; }
  .text-black\/50 { color: rgba(244,244,245,0.56) !important; }

  /* Borders */
  .border-black\/10 { border-color: var(--border) !important; }
  .border-black\/15 { border-color: rgba(244,244,245,0.16) !important; }

  /* Hover helpers often used on light surfaces */
  .hover\:bg-black\/5:hover { background-color: rgba(244,244,245,0.06) !important; }
  .hover\:bg-black\/10:hover { background-color: rgba(244,244,245,0.10) !important; }

  /* Underlines / decorations (subtle) */
  .decoration-black\/20 { text-decoration-color: rgba(244,244,245,0.22) !important; }
}

  /* ------------------------------------------------------------
     Header "pearl" (core-mark) â€” animated gradient + glow
     Blue default, Red when body.egg-red
     ------------------------------------------------------------ */
  .core-mark {
    position: relative;
    overflow: hidden;
    isolation: isolate;
  }

  /* subtle inner sheen (keeps the mark feeling "glass") */
  .core-mark::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 30% 25%, rgba(255,255,255,0.85), rgba(255,255,255,0) 55%);
    opacity: 0.45;
    pointer-events: none;
    z-index: 1;
  }

  /* the pearl */
  .core-mark::after {
    content: "";
    position: absolute;

    /* bigger pearl */
    width: 22px;
    height: 22px;

    /* PERFECT CENTERING */
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);

    border-radius: 9999px;

    /* animated gradient "liquid" */
    background-size: 240% 240%;
    background-position: 0% 50%;
    animation:
      pearlGradient 2.4s ease-in-out infinite,
      pearlPulse 2.0s ease-in-out infinite;

    /* blue gradient default */
    background-image:
      radial-gradient(circle at 30% 30%, rgba(255,255,255,0.85), rgba(255,255,255,0) 35%),
      linear-gradient(135deg,
        rgba(34, 211, 238, 0.95),
        rgba(59, 130, 246, 0.98),
        rgba(147, 197, 253, 0.92),
        rgba(37, 99, 235, 0.98)
      );

    /* glow */
    box-shadow:
      0 0 0 2px rgba(59, 130, 246, 0.22),
      0 0 22px rgba(59, 130, 246, 0.55),
      0 0 54px rgba(34, 211, 238, 0.28);

    filter: saturate(1.2);
    opacity: 1;
    z-index: 2;
  }

  /* red variant */
  body.egg-red .core-mark::after {
    background-image:
      radial-gradient(circle at 30% 30%, rgba(255,255,255,0.85), rgba(255,255,255,0) 35%),
      linear-gradient(135deg,
        rgba(251, 113, 133, 0.96),
        rgba(239, 68, 68, 0.98),
        rgba(253, 164, 175, 0.92),
        rgba(220, 38, 38, 0.98)
      );

    box-shadow:
      0 0 0 2px rgba(239, 68, 68, 0.24),
      0 0 18px rgba(239, 68, 68, 0.50),
      0 0 44px rgba(251, 113, 133, 0.24);

    filter: saturate(1.2);
  }

  @keyframes pearlGradient {
    0%   { background-position: 0% 50%; }
    50%  { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  @keyframes pearlPulse {
    0%, 100% { transform: translate(-50%, -50%) scale(1); }
    50%      { transform: translate(-50%, -50%) scale(1.10); }
  }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .core-mark::after {
      animation: none !important;
    }
  }
